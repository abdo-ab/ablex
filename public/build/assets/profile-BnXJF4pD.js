import{c as u,j as a,b as $,F as k,u as T,L as z,H as A}from"./app-CZnssS0L.js";import{q as S,c as x,B as y}from"./index-DQ7lFcdY.js";import{s as L}from"./index-VaKFwzbG.js";import{H as E,S as H}from"./layout-CZ66g0Rt.js";import{L as _,I as N,a as w}from"./label-DwJARuPF.js";import{R as O,C as R,a as P,T as I,b as V,D as B,P as U,O as W,A as X,e as Y}from"./app-layout-BK_FOZta.js";import{X as G}from"./x-CYTPqSBI.js";import{z as J}from"./transition-BQCkrS5j.js";/* empty css            */import"./index-DdlvbHyc.js";import"./index-DkNckNxD.js";import"./createLucideIcon-C2YPV_RC.js";import"./routes-ClUwibG1.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-CFJz7NHL.js";import"./book-open-KT5H6mR0.js";import"./chevron-right-Bm1rrZuM.js";const c=t=>({url:c.url(t),method:"get"});c.definition={methods:["get","head"],url:"/settings/profile"};c.url=t=>c.definition.url+S(t);c.get=t=>({url:c.url(t),method:"get"});c.head=t=>({url:c.url(t),method:"head"});const D=t=>({action:c.url(t),method:"get"});D.get=t=>({action:c.url(t),method:"get"});D.head=t=>({action:c.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});c.form=D;const f=t=>({url:f.url(t),method:"patch"});f.definition={methods:["patch"],url:"/settings/profile"};f.url=t=>f.definition.url+S(t);f.patch=t=>({url:f.url(t),method:"patch"});const Q=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});Q.patch=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=Q;const p=t=>({url:p.url(t),method:"delete"});p.definition={methods:["delete"],url:"/settings/profile"};p.url=t=>p.definition.url+S(t);p.delete=t=>({url:p.url(t),method:"delete"});const q=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});q.delete=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});p.form=q;const F={update:f,destroy:p};function K(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(O,{"data-slot":"dialog",...s}),e[2]=s,e[3]=r):r=e[3],r}function M(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(I,{"data-slot":"dialog-trigger",...s}),e[2]=s,e[3]=r):r=e[3],r}function Z(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(U,{"data-slot":"dialog-portal",...s}),e[2]=s,e[3]=r):r=e[3],r}function ee(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(P,{"data-slot":"dialog-close",...s}),e[2]=s,e[3]=r):r=e[3],r}function te(t){const e=u.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=x("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx(W,{"data-slot":"dialog-overlay",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function se(t){const e=u.c(12);let s,r,l;e[0]!==t?({className:r,children:s,...l}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=l):(s=e[1],r=e[2],l=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx(te,{}),e[4]=o):o=e[4];let i;e[5]!==r?(i=x("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[5]=r,e[6]=i):i=e[6];let n;e[7]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsxs(P,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(G,{}),a.jsx("span",{className:"sr-only",children:"Close"})]}),e[7]=n):n=e[7];let d;return e[8]!==s||e[9]!==l||e[10]!==i?(d=a.jsxs(Z,{"data-slot":"dialog-portal",children:[o,a.jsxs(R,{"data-slot":"dialog-content",className:i,...l,children:[s,n]})]}),e[8]=s,e[9]=l,e[10]=i,e[11]=d):d=e[11],d}function re(t){const e=u.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=x("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx("div",{"data-slot":"dialog-footer",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function ae(t){const e=u.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=x("text-lg leading-none font-semibold",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx(V,{"data-slot":"dialog-title",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function le(t){const e=u.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=x("text-muted-foreground text-sm",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx(B,{"data-slot":"dialog-description",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function oe(){const t=u.c(9),e=$.useRef(null);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(E,{title:"Delete account",description:"Delete your account and all of its resources"}),t[0]=s):s=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[a.jsx("p",{className:"font-medium",children:"Warning"}),a.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t[1]=r):r=t[1];let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(M,{asChild:!0,children:a.jsx(y,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t[2]=l):l=t[2];let o,i;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx(ae,{children:"Are you sure you want to delete your account?"}),i=a.jsx(le,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t[3]=o,t[4]=i):(o=t[3],i=t[4]);let n,d,m;t[5]===Symbol.for("react.memo_cache_sentinel")?(n=F.destroy.form(),d={preserveScroll:!0},m=()=>e.current?.focus(),t[5]=n,t[6]=d,t[7]=m):(n=t[5],d=t[6],m=t[7]);let h;return t[8]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsxs("div",{className:"space-y-6",children:[s,a.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[r,a.jsxs(K,{children:[l,a.jsxs(se,{children:[o,i,a.jsx(k,{...n,options:d,onError:m,resetOnSuccess:!0,className:"space-y-6",children:g=>{const{resetAndClearErrors:j,processing:b,errors:v}=g;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(_,{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx(N,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),a.jsx(w,{message:v.password})]}),a.jsxs(re,{className:"gap-2",children:[a.jsx(ee,{asChild:!0,children:a.jsx(y,{variant:"secondary",onClick:()=>j(),children:"Cancel"})}),a.jsx(y,{variant:"destructive",disabled:b,asChild:!0,children:a.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),t[8]=h):h=t[8],h}const ie=[{title:"Profile settings",href:Y().url}];function Se(t){const e=u.c(13),{mustVerifyEmail:s,status:r}=t,{auth:l}=T().props;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx(A,{title:"Profile settings"}),e[0]=o):o=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(E,{title:"Profile information",description:"Update your name and email address"}),e[1]=i):i=e[1];let n,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=F.update.form(),d={preserveScroll:!0},e[2]=n,e[3]=d):(n=e[2],d=e[3]);let m;e[4]!==l.user.email||e[5]!==l.user.email_verified_at||e[6]!==l.user.name||e[7]!==s||e[8]!==r?(m=a.jsxs("div",{className:"space-y-6",children:[i,a.jsx(k,{...n,options:d,className:"space-y-6",children:j=>{const{processing:b,recentlySuccessful:v,errors:C}=j;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(_,{htmlFor:"name",children:"Name"}),a.jsx(N,{id:"name",className:"mt-1 block w-full",defaultValue:l.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),a.jsx(w,{className:"mt-2",message:C.name})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(_,{htmlFor:"email",children:"Email address"}),a.jsx(N,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:l.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),a.jsx(w,{className:"mt-2",message:C.email})]}),s&&l.user.email_verified_at===null&&a.jsxs("div",{children:[a.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",a.jsx(z,{href:L(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),r==="verification-link-sent"&&a.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(y,{disabled:b,"data-test":"update-profile-button",children:"Save"}),a.jsx(J,{show:v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:a.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})}})]}),e[4]=l.user.email,e[5]=l.user.email_verified_at,e[6]=l.user.name,e[7]=s,e[8]=r,e[9]=m):m=e[9];let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsx(oe,{}),e[10]=h):h=e[10];let g;return e[11]!==m?(g=a.jsxs(X,{breadcrumbs:ie,children:[o,a.jsxs(H,{children:[m,h]})]}),e[11]=m,e[12]=g):g=e[12],g}export{Se as default};
