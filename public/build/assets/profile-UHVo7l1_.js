import{c as m,j as a,b as $,F as S,u as k,H as T}from"./app-8GApVt7d.js";import{q as v}from"./index-CSEUMRIG.js";import{H as D,S as z}from"./layout-BxGkLTDe.js";import{L as b,I as _,a as N}from"./label-DaWu3M7V.js";import{c as g,B as y}from"./index-nd9GKgge.js";import{R as A,C as H,a as C,T as L,b as O,D as R,P as I,O as B,A as U,e as V}from"./app-layout-CIz6d_ji.js";import{X as W}from"./x-Dm9lzsqk.js";import{z as X}from"./transition-BQgOuz4N.js";/* empty css            */import"./index-hQrTkaBJ.js";import"./createLucideIcon-BX7wIIuK.js";import"./routes-ClUwibG1.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-CQ4Z0LCa.js";import"./book-open-Dv_tXYlK.js";import"./chevron-right-CQvwDkTX.js";const d=t=>({url:d.url(t),method:"get"});d.definition={methods:["get","head"],url:"/settings/profile"};d.url=t=>d.definition.url+v(t);d.get=t=>({url:d.url(t),method:"get"});d.head=t=>({url:d.url(t),method:"head"});const w=t=>({action:d.url(t),method:"get"});w.get=t=>({action:d.url(t),method:"get"});w.head=t=>({action:d.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});d.form=w;const u=t=>({url:u.url(t),method:"patch"});u.definition={methods:["patch"],url:"/settings/profile"};u.url=t=>u.definition.url+v(t);u.patch=t=>({url:u.url(t),method:"patch"});const P=t=>({action:u.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});P.patch=t=>({action:u.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});u.form=P;const f=t=>({url:f.url(t),method:"delete"});f.definition={methods:["delete"],url:"/settings/profile"};f.url=t=>f.definition.url+v(t);f.delete=t=>({url:f.url(t),method:"delete"});const E=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});E.delete=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=E;const Q={update:u,destroy:f};function G(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(A,{"data-slot":"dialog",...s}),e[2]=s,e[3]=r):r=e[3],r}function J(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(L,{"data-slot":"dialog-trigger",...s}),e[2]=s,e[3]=r):r=e[3],r}function K(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(I,{"data-slot":"dialog-portal",...s}),e[2]=s,e[3]=r):r=e[3],r}function M(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=a.jsx(C,{"data-slot":"dialog-close",...s}),e[2]=s,e[3]=r):r=e[3],r}function Y(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=g("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx(B,{"data-slot":"dialog-overlay",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function Z(t){const e=m.c(12);let s,r,l;e[0]!==t?({className:r,children:s,...l}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=l):(s=e[1],r=e[2],l=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx(Y,{}),e[4]=o):o=e[4];let i;e[5]!==r?(i=g("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[5]=r,e[6]=i):i=e[6];let n;e[7]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsxs(C,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(W,{}),a.jsx("span",{className:"sr-only",children:"Close"})]}),e[7]=n):n=e[7];let c;return e[8]!==s||e[9]!==l||e[10]!==i?(c=a.jsxs(K,{"data-slot":"dialog-portal",children:[o,a.jsxs(H,{"data-slot":"dialog-content",className:i,...l,children:[s,n]})]}),e[8]=s,e[9]=l,e[10]=i,e[11]=c):c=e[11],c}function ee(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=g("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx("div",{"data-slot":"dialog-footer",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function te(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=g("text-lg leading-none font-semibold",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx(O,{"data-slot":"dialog-title",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function se(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let l;e[3]!==s?(l=g("text-muted-foreground text-sm",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==l?(o=a.jsx(R,{"data-slot":"dialog-description",className:l,...r}),e[5]=r,e[6]=l,e[7]=o):o=e[7],o}function re(){const t=m.c(9),e=$.useRef(null);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(D,{title:"Delete account",description:"Delete your account and all of its resources"}),t[0]=s):s=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[a.jsx("p",{className:"font-medium",children:"Warning"}),a.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t[1]=r):r=t[1];let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(J,{asChild:!0,children:a.jsx(y,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t[2]=l):l=t[2];let o,i;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx(te,{children:"Are you sure you want to delete your account?"}),i=a.jsx(se,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t[3]=o,t[4]=i):(o=t[3],i=t[4]);let n,c,p;t[5]===Symbol.for("react.memo_cache_sentinel")?(n=Q.destroy.form(),c={preserveScroll:!0},p=()=>e.current?.focus(),t[5]=n,t[6]=c,t[7]=p):(n=t[5],c=t[6],p=t[7]);let h;return t[8]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsxs("div",{className:"space-y-6",children:[s,a.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[r,a.jsxs(G,{children:[l,a.jsxs(Z,{children:[o,i,a.jsx(S,{...n,options:c,onError:p,resetOnSuccess:!0,className:"space-y-6",children:j=>{const{resetAndClearErrors:x,processing:q,errors:F}=j;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(b,{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx(_,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),a.jsx(N,{message:F.password})]}),a.jsxs(ee,{className:"gap-2",children:[a.jsx(M,{asChild:!0,children:a.jsx(y,{variant:"secondary",onClick:()=>x(),children:"Cancel"})}),a.jsx(y,{variant:"destructive",disabled:q,asChild:!0,children:a.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),t[8]=h):h=t[8],h}const ae=[{title:"Profile settings",href:V().url}];function _e(){const t=m.c(10),{auth:e}=k().props;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(T,{title:"Profile settings"}),t[0]=s):s=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(D,{title:"Profile information",description:"Update your name and email address"}),t[1]=r):r=t[1];let l,o;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=Q.update.form(),o={preserveScroll:!0},t[2]=l,t[3]=o):(l=t[2],o=t[3]);let i;t[4]!==e.user.email||t[5]!==e.user.name?(i=a.jsxs("div",{className:"space-y-6",children:[r,a.jsx(S,{...l,options:o,className:"space-y-6",children:p=>{const{processing:h,recentlySuccessful:j,errors:x}=p;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(b,{htmlFor:"name",children:"Name"}),a.jsx(_,{id:"name",className:"mt-1 block w-full",defaultValue:e.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),a.jsx(N,{className:"mt-2",message:x.name})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(b,{htmlFor:"email",children:"Email address"}),a.jsx(_,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:e.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),a.jsx(N,{className:"mt-2",message:x.email})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(y,{disabled:h,"data-test":"update-profile-button",children:"Save"}),a.jsx(X,{show:j,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:a.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})}})]}),t[4]=e.user.email,t[5]=e.user.name,t[6]=i):i=t[6];let n;t[7]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsx(re,{}),t[7]=n):n=t[7];let c;return t[8]!==i?(c=a.jsxs(U,{breadcrumbs:ae,children:[s,a.jsxs(z,{children:[i,n]})]}),t[8]=i,t[9]=c):c=t[9],c}export{_e as default};
